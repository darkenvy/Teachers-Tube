{"version":3,"sources":["pages/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["//our root app component\nimport {Component} from '@angular/core';\nimport {Promise} from 'es6-promise';\n\ninterface timeItem {\n  start: string;\n  end: string;\n  url: string;\n}\n\n@Component({\n  selector: 'my-app',\n  styleUrls: ['css/app.css'],\n  templateUrl: 'partials/app.html'\n})\nexport class AppComponent {\n  id = 'qDuKsiwS5xw';\n  private player;\n  private ytEvent;\n  time1 = '';\n  time2 = '';\n  vidUrl = '';\n  timeListSelected : number;\n  timeList : timeItem[]\n  nextCmd : any[]; // function\n  cmdLoopRunning = false;\n  playerInstance;\n\n  constructor() {\n    var playerInstance = this.player;\n    this.nextCmd = [];\n    this.timeListSelected = -1;\n    this.timeList = [\n      {start: '20', end: '25', url: 'tNjsVTQ7Q3c'},\n      {start: '120', end: '130', url: 'jPcBU0Z2Hj8'},\n      {start: '5', end: '20', url: 'bFNjA9LOPsg'}\n    ];\n  }\n\n  // ------------ Interface Functions ------------ //\n  add() {\n    this.timeList.push({start:'5', end:'10', url: 'HUgE9L7V4oY'});\n    this.timeListSelected = this.timeList.length-1;\n    this.edit(this.timeListSelected);\n    console.log(this.timeList);\n  }\n\n  // this.player.cueVideoById(this.timeList[idx].url);\n  // this.player.seekTo(this.timeList[idx].start);\n  playVideo(idx) {\n    this.nextCmd.push(['cueVideoById', this.timeList[idx].url])\n    this.nextCmd.push(['seekTo', this.timeList[idx].start])\n    this.cmdLoop();\n    // var playerInstance = this.player; // Lets see if we can remove this. 'this' keeps changing\n    \n  }\n\n  cmdLoop() {\n    if (this.cmdLoopRunning === true) {console.log('already running. quit'); return}\n    this.cmdLoopRunning = true;\n    setInterval(()=>{\n      if (this.nextCmd && this.nextCmd.length > 0) {\n        if (this.player.getPlayerState() > 0) {\n          let cmd = this.nextCmd[0][0];\n          // switch (cmd) {\n          //   case 'cueVideoById':\n          //     console.log('case1');\n          //     this.fn.cue(this.nextCmd[0][1]);\n          //     break;\n          //   case 'seek':\n          //     console.log('case2');\n          //     this.fn.seek(this.nextCmd[0][1]);\n          //     break;\n          // }\n          // this.nextCmd[0][0](this.nextCmd[0][1]); // run command in list\n          this.nextCmd.splice(0,1);\n        }\n      }\n    }, 1000);\n  }\n\n\n  // playerReady(playerInstance, fn) {\n  //   return new Promise((resolve, reject) => {\n  //     var check = () => {\n  //       console.log('ran check');\n  //       setTimeout(()=>{\n  //         if (false) {check()} // repeat timeout\n  //         else {\n  //           console.log('resolving check', state);\n  //           fn(playerInstance);\n  //           resolve();\n  //         }\n  //       }, 100);\n  //     }\n  //     check(); // run first cycle\n  //   })\n  // }\n\n  // playerReady = new Promise((resolve, reject)=>{\n  //   return resolve;\n  // })\n\n  // playerReady(cb, params) {\n  //   // Runs a function when the player says its ready.\n  //   // Would love for this to be a Promise :P\n    // setTimeout(() => {\n    //   var state = this.player.getPlayerState();\n    //   console.log('cycle');\n    //   if (!state) {this.playerReady(cb, params)}\n    //   else {cb(\"tNjsVTQ7Q3c\")}\n    // }, 100);\n  // }\n\n  edit(idx) {\n    this.timeListSelected=idx\n    this.time1 = this.timeList[idx].start;\n    this.time2 = this.timeList[idx].end;\n    this.vidUrl = this.timeList[idx].url;\n  }\n\n  delete(idx) {\n    this.timeList.splice(idx, 1);\n    console.log(this.timeList);\n  }\n\n  // ------------ Deep functions ------------ //\n\n  onStateChange(event) {\n    this.waitState = 1;\n    this.ytEvent = event.data;\n  }\n\n  metadataChanged(value, entryNumber) {\n    console.log(value, entryNumber, this.timeListSelected)\n    if (this.timeListSelected !== undefined) {\n      if (entryNumber === 1) {\n        this.timeList[this.timeListSelected].start = value;\n      }\n      if (entryNumber === 2) {\n        this.timeList[this.timeListSelected].end = value;\n      }\n      if (entryNumber === 3) {}\n        this.timeList[this.timeListSelected].url = value;\n    }\n  }\n  \n  savePlayer(player) { // Whos executing this? W/O it, it breaks.\n    this.player = player;\n  }\n  \n  // ------------ Helper Functions ------------ //\n\n  // pauseVideo() {\n  //   this.player.pauseVideo();\n  // }\n}"]}